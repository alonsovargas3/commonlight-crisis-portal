# Railway Configuration for CommonLight Crisis Portal
#
# This is a standalone Next.js application for crisis workers
# Target domain: app.wearecommonlight.com

[build]
builder = "nixpacks"
nixpacksVersion = "1.41.0"

[build.nixpacksPlan]
providers = ["nodejs"]

[build.nixpacksPlan.phases.setup]
nixPkgs = ["nodejs_20"]

[deploy]
startCommand = "npm start"
healthcheckPath = "/"
healthcheckTimeout = 100
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Environment variables (set in Railway dashboard or via CLI):
# - NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY
# - CLERK_SECRET_KEY
# - NEXT_PUBLIC_SUPABASE_URL
# - NEXT_PUBLIC_SUPABASE_ANON_KEY
# - NEXT_PUBLIC_MAPBOX_TOKEN
# - NEXT_PUBLIC_API_URL
